---
import { getCollection } from "astro:content";
import FormattedDate from "../../components/FormattedDate.astro";
import MainLayout from "../../layouts/MainLayout.astro";

const posts = (await getCollection("blog")).sort(
	(a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf(),
);
---

<MainLayout title="Mi blog personal">
	<h1 class="md:text-[40px] text-[32px] font-bold mt-0" transition:name="blog">
		Mi blog personal
	</h1>
	<h4 class="mb-6 -mt-2 text-lg text-neutral-400">
		Cuando no estoy programando, escribo sobre diseño de interfaces,
		programación y hobbies.
	</h4>

	<ul class="grid grid-cols-1 md:grid-cols-2 mt-10 gap-3 md:gap-8">
		{
			posts.map((post) => (
				<li class="w-full">
					<a href={`/blog/${post.slug}/`}>
						<img
							class="mb-3 rounded-xl hover:shadow-xl hover:shadow-blue-800/20"
							width={720}
							height={360}
							src={post.data.heroImage}
							alt={post.data.title}
							transition:name={post.data.heroImage}
						/>
						<h4 transition:name={post.data.title} class="m-0 text-xl md:text-2xl text-white">
							{post.data.title}
						</h4>
						<p class="text-neutral-500 mb-0">
							<FormattedDate date={post.data.pubDate} />
						</p>
					</a>
				</li>
			))
		}
	</ul>
</MainLayout>

<style>
	ul li * {
		transition: 0.2s ease;
	}
	ul li a:hover h4,
	ul li a:hover .date {
		color: rgb(var(--accent));
	}
</style>
